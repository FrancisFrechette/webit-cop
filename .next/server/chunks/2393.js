exports.id=2393,exports.ids=[2393],exports.modules={90783:(e,t,s)=>{Promise.resolve().then(s.bind(s,46952))},26444:()=>{},93710:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},46952:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var r=s(10326),a=s(31591),i=s(24988),n=s(89660),l=s(17577),u=s(90434),d=s(35047);function c({children:e}){let{user:t,loading:s}=(0,a.z)(),{org:c,loading:o}=(0,i.X)(),{me:m}=function(){let[e,t]=(0,l.useState)(null),[s,r]=(0,l.useState)(!0),[a,i]=(0,l.useState)(null);return{me:e,loading:s,error:a,refetch:(0,l.useCallback)(async()=>{i(null),r(!0);try{let e=await (0,n.g)(),s=await fetch("/api/orgs/current/me",{headers:{...e},credentials:"include"});if(401===s.status||403===s.status){t(null),i("Non autoris\xe9");return}if(!s.ok){t(null),i("Erreur au chargement");return}let r=await s.json();t(r)}catch{t(null),i("Erreur au chargement")}finally{r(!1)}},[])}}();return((0,d.useRouter)(),(0,d.usePathname)(),s)?r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-[#050816]",children:r.jsx("p",{className:"text-webit-fg-muted",children:"Chargement…"})}):t?(0,r.jsxs)("div",{className:"min-h-screen bg-[#050816] text-webit-fg",children:[r.jsx("header",{className:"border-b border-webit-panel-border",children:(0,r.jsxs)("div",{className:"layout-container flex h-14 items-center justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[r.jsx(u.default,{href:"/pages",className:"text-sm font-semibold text-white hover:text-webit-accent",children:"Webit COP"}),(0,r.jsxs)("nav",{className:"flex gap-4",children:[r.jsx(u.default,{href:"/pages",className:"text-sm text-webit-fg-muted hover:text-webit-accent",children:"Pages"}),r.jsx(u.default,{href:"/articles",className:"text-sm text-webit-fg-muted hover:text-webit-accent",children:"Articles"}),r.jsx(u.default,{href:"/calendar",className:"text-sm text-webit-fg-muted hover:text-webit-accent",children:"Calendrier"}),m?.canManageMembers&&r.jsx(u.default,{href:"/org/members",className:"text-sm text-webit-fg-muted hover:text-webit-accent",children:"Membres & r\xf4les"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[t&&!o&&(0,r.jsxs)("span",{className:"text-webit-fg-muted",children:["Organisation : ",c?.name??"Organisation inconnue"]}),m&&(0,r.jsxs)("span",{className:"text-webit-fg-muted",title:"R\xf4le dans cette organisation",children:["Vous : ",m.orgRole]}),r.jsx("span",{className:"text-webit-fg-muted",children:t.displayName||t.email||t.uid}),r.jsx(u.default,{href:"/logout",className:"text-webit-fg-muted hover:text-webit-accent-rose",children:"D\xe9connexion"})]})]})}),e]}):null}},37002:(e,t,s)=>{"use strict";s.d(t,{N:()=>d});var r=s(10326),a=s(47999);function i(e){return{id:e.id,title:e.current.title,slug:e.current.slug,status:e.status,updatedAt:e.updatedAt,editorialStatus:e.editorialStatus??null}}function n(e){return{id:e.id,title:e.current.title,slug:e.current.slug,status:e.status,updatedAt:e.updatedAt,publishedAt:e.current.publishedAt,editorialStatus:e.editorialStatus??null}}function l(e){try{return new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return e}}function u({status:e}){return r.jsx("span",{className:`inline-flex rounded-full px-2.5 py-0.5 text-xs font-medium ${{draft:"bg-slate-600/80 text-slate-200",preview:"bg-amber-600/80 text-white",published:"bg-emerald-600/80 text-white",archived:"bg-slate-700/80 text-slate-400"}[e]}`,children:{draft:"Brouillon",preview:"Preview",published:"Publi\xe9",archived:"Archiv\xe9"}[e]})}function d({pages:e,articles:t,onRowClick:s,onDateSortClick:d,dateSortDirection:c="desc"}){let o=void 0!==e?e.map(i):void 0!==t?t.map(n):[],m=void 0!==t;return(0,r.jsxs)("div",{className:"overflow-x-auto",children:[(0,r.jsxs)("table",{className:"w-full text-left text-sm",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-webit-panel-border text-webit-fg-muted",children:[r.jsx("th",{className:"pb-3 pr-4 font-medium",children:"Titre"}),r.jsx("th",{className:"pb-3 pr-4 font-medium",children:"Slug"}),r.jsx("th",{className:"pb-3 pr-4 font-medium",children:"Statut"}),m&&r.jsx("th",{className:"pb-3 pr-4 font-medium",children:d?(0,r.jsxs)("button",{type:"button",onClick:e=>{e.stopPropagation(),d()},className:"flex items-center gap-1 hover:text-white focus:outline-none","aria-label":`Trier par date ${"desc"===c?"croissante":"d\xe9croissante"}`,children:["Publication",r.jsx("span",{"aria-hidden":!0,children:"desc"===c?"↓":"↑"})]}):"Publication"}),r.jsx("th",{className:"pb-3 font-medium",children:"Derni\xe8re maj"})]})}),r.jsx("tbody",{children:o.map(e=>(0,r.jsxs)("tr",{className:"cursor-pointer border-b border-webit-panel-border/60 transition hover:bg-slate-800/50",onClick:()=>s(e.id),children:[r.jsx("td",{className:"py-3 pr-4 font-medium text-white",children:e.title||"(Sans titre)"}),r.jsx("td",{className:"py-3 pr-4 text-webit-fg-muted",children:e.slug||"—"}),r.jsx("td",{className:"py-3 pr-4",children:(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-1.5",children:[r.jsx(u,{status:e.status}),"editorialStatus"in e&&e.editorialStatus&&r.jsx("span",{className:`inline-flex rounded-full px-2 py-0.5 text-xs ${(0,a.Zj)(e.editorialStatus)}`,title:(0,a.gC)(e.editorialStatus),children:(0,a.gC)(e.editorialStatus)})]})}),m&&r.jsx("td",{className:"py-3 pr-4 text-webit-fg-muted",children:"publishedAt"in e&&"string"==typeof e.publishedAt&&e.publishedAt?l(e.publishedAt):"—"}),r.jsx("td",{className:"py-3 text-webit-fg-muted",children:l(e.updatedAt)})]},e.id))})]}),0===o.length&&r.jsx("p",{className:"py-8 text-center text-webit-fg-muted",children:"Aucun contenu."})]})}},28702:(e,t,s)=>{"use strict";s.d(t,{v9:()=>n});var r=s(42585),a=s(46791);let i={apiKey:process.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:process.env.NEXT_PUBLIC_FIREBASE_APP_ID};function n(){return(0,a.v0)(0===(0,r.C6)().length?(0,r.ZF)(i):(0,r.Mq)())}},89660:(e,t,s)=>{"use strict";async function r(){return{}}s.d(t,{g:()=>r}),s(28702)},31591:(e,t,s)=>{"use strict";s.d(t,{z:()=>a});var r=s(17577);function a(){let[e,t]=(0,r.useState)(null),[s,a]=(0,r.useState)(!0),[i,n]=(0,r.useState)(null);return{user:e,loading:s,error:i}}s(28702)},24988:(e,t,s)=>{"use strict";s.d(t,{X:()=>i});var r=s(89660),a=s(17577);function i(){let[e,t]=(0,a.useState)(null),[s,i]=(0,a.useState)(!0),[n,l]=(0,a.useState)(null);return{org:e,loading:s,error:n,refetch:(0,a.useCallback)(async()=>{l(null),i(!0);try{let e=await (0,r.g)(),s=await fetch("/api/orgs/current",{headers:{...e},credentials:"include"});if(401===s.status||403===s.status){t(null),l("Non autoris\xe9");return}if(404===s.status){t(null),l("Organisation non trouv\xe9e");return}if(!s.ok){t(null),l("Erreur au chargement");return}let a=await s.json();t(a)}catch{t(null),l("Erreur r\xe9seau")}finally{i(!1)}},[])}}},47999:(e,t,s)=>{"use strict";s.d(t,{Zj:()=>n,gC:()=>i,wR:()=>r});let r={not_needed:"Aucune revue n\xe9cessaire",in_review:"En revue",changes_requested:"Modifications demand\xe9es",approved:"Approuv\xe9"},a={not_needed:"bg-slate-600/80 text-slate-200",in_review:"bg-amber-600/80 text-white",changes_requested:"bg-rose-600/80 text-white",approved:"bg-emerald-600/80 text-white"};function i(e){return null==e?"—":r[e]??e}function n(e){return null==e?"bg-slate-600/80 text-slate-400":a[e]??"bg-slate-600/80 text-slate-300"}},90434:(e,t,s)=>{"use strict";s.d(t,{default:()=>a.a});var r=s(79404),a=s.n(r)},64095:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(19510);let a=(0,s(68570).createProxy)(String.raw`C:\Projets - Developpement\cursor-webit-cop\app\(dashboard)\DashboardShell.tsx#default`);function i({children:e}){return r.jsx(a,{children:e})}},11506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>a});var r=s(19510);s(67272);let a={title:"Webit COP",description:"SaaS COP multi-tenant pour Webit"};function i({children:e}){return r.jsx("html",{lang:"fr",children:r.jsx("body",{children:e})})}},67272:()=>{}};