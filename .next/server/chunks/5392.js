exports.id=5392,exports.ids=[5392],exports.modules={25104:(t,e,i)=>{let s=i(13664),n=s.fetch.bind({});n.polyfill=!0,global.fetch||(global.fetch=n,global.Response=s.Response,global.Headers=s.Headers,global.Request=s.Request)},13664:(t,e,i)=>{let s=i(10820),n=s.default||s,r=function(t,e){return/^\/\//.test(t)&&(t="https:"+t),n.call(this,t,e)};r.ponyfill=!0,t.exports=e=r,e.fetch=r,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,e.default=r},95392:(t,e,i)=>{"use strict";i.d(e,{An:()=>x});var s=i(84770),n=i.n(s);let r={TASK_PROCESSING:"processing",TASK_ENQUEUED:"enqueued"},u={INDEX_NOT_FOUND:"index_not_found"};function o(t,e,i,s){return new(i||(i=Promise))(function(n,r){function u(t){try{d(s.next(t))}catch(t){r(t)}}function o(t){try{d(s.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?n(t.value):((e=t.value)instanceof i?e:new i(function(t){t(e)})).then(u,o)}d((s=s.apply(t,e||[])).next())})}class d extends Error{constructor(t){super(t),Object.setPrototypeOf(this,d.prototype),this.name="MeiliSearchError",Error.captureStackTrace&&Error.captureStackTrace(this,d)}}class h extends d{constructor(t,e,i,s){var n,r,u;super(t),Object.setPrototypeOf(this,h.prototype),this.name="MeiliSearchCommunicationError",e instanceof Response&&(this.message=e.statusText,this.statusCode=e.status),e instanceof Error&&(this.errno=e.errno,this.code=e.code),s?(this.stack=s,this.stack=null===(n=this.stack)||void 0===n?void 0:n.replace(/(TypeError|FetchError)/,this.name),this.stack=null===(r=this.stack)||void 0===r?void 0:r.replace("Failed to fetch",`request to ${i} failed, reason: connect ECONNREFUSED`),this.stack=null===(u=this.stack)||void 0===u?void 0:u.replace("Not Found",`Not Found: ${i}`)):Error.captureStackTrace&&Error.captureStackTrace(this,h)}}let a=class extends d{constructor(t,e){super(t.message),Object.setPrototypeOf(this,a.prototype),this.name="MeiliSearchApiError",this.code=t.code,this.type=t.type,this.link=t.link,this.message=t.message,this.httpStatus=e,Error.captureStackTrace&&Error.captureStackTrace(this,a)}};class l extends d{constructor(t){super(t),Object.setPrototypeOf(this,l.prototype),this.name="MeiliSearchTimeOutError",Error.captureStackTrace&&Error.captureStackTrace(this,l)}}function c(t,e){return`${t}
Hint: It might not be working because maybe you're not up to date with the Meilisearch version that ${e} call requires.`}function p(t){return Object.entries(t).reduce((t,e)=>{let[i,s]=e;return void 0!==s&&(t[i]=s),t},{})}function v(t){return Object.keys(t).reduce((e,i)=>{let s=t[i];return void 0===s?e:Array.isArray(s)?Object.assign(Object.assign({},e),{[i]:s.join(",")}):s instanceof Date?Object.assign(Object.assign({},e),{[i]:s.toISOString()}):Object.assign(Object.assign({},e),{[i]:s})},{})}class f{constructor(t){this.headers=function(t){var e,i;let s="X-Meilisearch-Client",n="Meilisearch JavaScript (v0.38.0)",r="Authorization",u=function(t){if(Array.isArray(t))return t.reduce((t,e)=>(t[e[0]]=e[1],t),{});if(!("has"in t))return Object.assign({},t);{let e={};return t.forEach((t,i)=>e[i]=t),e}}(null!==(i=null===(e=t.requestConfig)||void 0===e?void 0:e.headers)&&void 0!==i?i:{});if(t.apiKey&&!u[r]&&(u[r]=`Bearer ${t.apiKey}`),u["Content-Type"]||(u["Content-Type"]="application/json"),t.clientAgents&&Array.isArray(t.clientAgents)){let e=t.clientAgents.concat(n);u[s]=e.join(" ; ")}else if(t.clientAgents&&!Array.isArray(t.clientAgents))throw new d(`Meilisearch: The header "${s}" should be an array of string(s).
`);else u[s]=n;return u}(t),this.requestConfig=t.requestConfig,this.httpClient=t.httpClient,this.requestTimeout=t.timeout;try{let e=function(t){try{var e,i;return(i=t=(e=t).startsWith("https://")||e.startsWith("http://")?e:`http://${e}`).endsWith("/")||(i+="/"),t=i}catch(t){throw new d("The provided host is not valid.")}}(t.host);this.url=new URL(e)}catch(t){throw new d("The provided host is not valid.")}}request({method:t,url:e,params:s,body:n,config:r={}}){var u;return o(this,void 0,void 0,function*(){"undefined"==typeof fetch&&i(25104);let d=new URL(e,this.url);if(s){let t=new URLSearchParams;Object.keys(s).filter(t=>null!==s[t]).map(e=>t.set(e,s[e])),d.search=t.toString()}(null===(u=r.headers)||void 0===u?void 0:u["Content-Type"])||(n=JSON.stringify(n));let l=Object.assign(Object.assign({},this.headers),r.headers);try{let e=this.fetchWithTimeout(d.toString(),Object.assign(Object.assign(Object.assign({},r),this.requestConfig),{method:t,body:n,headers:l}),this.requestTimeout);if(this.httpClient)return yield e;let i=yield e.then(t=>(function(t){return o(this,void 0,void 0,function*(){if(!t.ok){let e;try{e=yield t.json()}catch(e){throw new h(t.statusText,t,t.url)}throw new a(e,t.status)}return t})})(t));return yield i.json().catch(()=>void 0)}catch(e){let t=e.stack;!function(t,e,i){if("MeiliSearchApiError"!==t.name)throw new h(t.message,t,i,e);throw t}(e,t,d.toString())}})}fetchWithTimeout(t,e,i){return o(this,void 0,void 0,function*(){return new Promise((s,n)=>{let r;let u=[(this.httpClient?this.httpClient:fetch)(t,e)];if(i){let t=new Promise((t,e)=>{r=setTimeout(()=>{e(Error("Error: Request Timed Out"))},i)});u.push(t)}Promise.race(u).then(s).catch(n).finally(()=>{clearTimeout(r)})})})}get(t,e,i){return o(this,void 0,void 0,function*(){return yield this.request({method:"GET",url:t,params:e,config:i})})}post(t,e,i,s){return o(this,void 0,void 0,function*(){return yield this.request({method:"POST",url:t,body:e,params:i,config:s})})}put(t,e,i,s){return o(this,void 0,void 0,function*(){return yield this.request({method:"PUT",url:t,body:e,params:i,config:s})})}patch(t,e,i,s){return o(this,void 0,void 0,function*(){return yield this.request({method:"PATCH",url:t,body:e,params:i,config:s})})}delete(t,e,i,s){return o(this,void 0,void 0,function*(){return yield this.request({method:"DELETE",url:t,body:e,params:i,config:s})})}}class y{constructor(t){this.taskUid=t.taskUid,this.indexUid=t.indexUid,this.status=t.status,this.type=t.type,this.enqueuedAt=new Date(t.enqueuedAt)}}class g{constructor(t){this.indexUid=t.indexUid,this.status=t.status,this.type=t.type,this.uid=t.uid,this.details=t.details,this.canceledBy=t.canceledBy,this.error=t.error,this.duration=t.duration,this.startedAt=new Date(t.startedAt),this.enqueuedAt=new Date(t.enqueuedAt),this.finishedAt=new Date(t.finishedAt)}}class q{constructor(t){this.httpRequest=new f(t)}getTask(t){return o(this,void 0,void 0,function*(){let e=`tasks/${t}`;return new g((yield this.httpRequest.get(e)))})}getTasks(t={}){return o(this,void 0,void 0,function*(){let e=yield this.httpRequest.get("tasks",v(t));return Object.assign(Object.assign({},e),{results:e.results.map(t=>new g(t))})})}waitForTask(t,{timeOutMs:e=5e3,intervalMs:i=50}={}){return o(this,void 0,void 0,function*(){let s=Date.now();for(;Date.now()-s<e;){let e=yield this.getTask(t);if(![r.TASK_ENQUEUED,r.TASK_PROCESSING].includes(e.status))return e;yield function(t){return o(this,void 0,void 0,function*(){return yield new Promise(e=>setTimeout(e,t))})}(i)}throw new l(`timeout of ${e}ms has exceeded on process ${t} when waiting a task to be resolved.`)})}waitForTasks(t,{timeOutMs:e=5e3,intervalMs:i=50}={}){return o(this,void 0,void 0,function*(){let s=[];for(let n of t){let t=yield this.waitForTask(n,{timeOutMs:e,intervalMs:i});s.push(t)}return s})}cancelTasks(t={}){return o(this,void 0,void 0,function*(){return new y((yield this.httpRequest.post("tasks/cancel",{},v(t))))})}deleteTasks(t={}){return o(this,void 0,void 0,function*(){return new y((yield this.httpRequest.delete("tasks",{},v(t))))})}}class w{constructor(t,e,i){this.uid=e,this.primaryKey=i,this.httpRequest=new f(t),this.tasks=new q(t)}search(t,e,i){return o(this,void 0,void 0,function*(){let s=`indexes/${this.uid}/search`;return yield this.httpRequest.post(s,p(Object.assign({q:t},e)),void 0,i)})}searchGet(t,e,i){var s,n,r,u,h,a,l;return o(this,void 0,void 0,function*(){let o=`indexes/${this.uid}/search`,c=Object.assign(Object.assign({q:t},e),{filter:(t=>{if("string"==typeof t)return t;if(Array.isArray(t))throw new d("The filter query parameter should be in string format when using searchGet")})(null==e?void 0:e.filter),sort:null===(s=null==e?void 0:e.sort)||void 0===s?void 0:s.join(","),facets:null===(n=null==e?void 0:e.facets)||void 0===n?void 0:n.join(","),attributesToRetrieve:null===(r=null==e?void 0:e.attributesToRetrieve)||void 0===r?void 0:r.join(","),attributesToCrop:null===(u=null==e?void 0:e.attributesToCrop)||void 0===u?void 0:u.join(","),attributesToHighlight:null===(h=null==e?void 0:e.attributesToHighlight)||void 0===h?void 0:h.join(","),vector:null===(a=null==e?void 0:e.vector)||void 0===a?void 0:a.join(","),attributesToSearchOn:null===(l=null==e?void 0:e.attributesToSearchOn)||void 0===l?void 0:l.join(",")});return yield this.httpRequest.get(o,p(c),i)})}searchForFacetValues(t,e){return o(this,void 0,void 0,function*(){let i=`indexes/${this.uid}/facet-search`;return yield this.httpRequest.post(i,p(t),void 0,e)})}getRawInfo(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}`,e=yield this.httpRequest.get(t);return this.primaryKey=e.primaryKey,this.updatedAt=new Date(e.updatedAt),this.createdAt=new Date(e.createdAt),e})}fetchInfo(){return o(this,void 0,void 0,function*(){return yield this.getRawInfo(),this})}fetchPrimaryKey(){return o(this,void 0,void 0,function*(){return this.primaryKey=(yield this.getRawInfo()).primaryKey,this.primaryKey})}static create(t,e={},i){return o(this,void 0,void 0,function*(){let s=new f(i);return new y((yield s.post("indexes",Object.assign(Object.assign({},e),{uid:t}))))})}update(t){return o(this,void 0,void 0,function*(){let e=`indexes/${this.uid}`,i=yield this.httpRequest.patch(e,t);return i.enqueuedAt=new Date(i.enqueuedAt),i})}delete(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}`;return new y((yield this.httpRequest.delete(t)))})}getTasks(t={}){return o(this,void 0,void 0,function*(){return yield this.tasks.getTasks(Object.assign(Object.assign({},t),{indexUids:[this.uid]}))})}getTask(t){return o(this,void 0,void 0,function*(){return yield this.tasks.getTask(t)})}waitForTasks(t,{timeOutMs:e=5e3,intervalMs:i=50}={}){return o(this,void 0,void 0,function*(){return yield this.tasks.waitForTasks(t,{timeOutMs:e,intervalMs:i})})}waitForTask(t,{timeOutMs:e=5e3,intervalMs:i=50}={}){return o(this,void 0,void 0,function*(){return yield this.tasks.waitForTask(t,{timeOutMs:e,intervalMs:i})})}getStats(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/stats`;return yield this.httpRequest.get(t)})}getDocuments(t={}){var e;return o(this,void 0,void 0,function*(){if(void 0!==(t=p(t)).filter)try{let e=`indexes/${this.uid}/documents/fetch`;return yield this.httpRequest.post(e,t)}catch(t){throw t instanceof h?t.message=c(t.message,"getDocuments"):t instanceof a&&(t.message=c(t.message,"getDocuments")),t}else{let i=`indexes/${this.uid}/documents`,s=Array.isArray(null==t?void 0:t.fields)?{fields:null===(e=null==t?void 0:t.fields)||void 0===e?void 0:e.join(",")}:{};return yield this.httpRequest.get(i,Object.assign(Object.assign({},t),s))}})}getDocument(t,e){return o(this,void 0,void 0,function*(){let i=`indexes/${this.uid}/documents/${t}`,s=(()=>{var t;if(Array.isArray(null==e?void 0:e.fields))return null===(t=null==e?void 0:e.fields)||void 0===t?void 0:t.join(",")})();return yield this.httpRequest.get(i,p(Object.assign(Object.assign({},e),{fields:s})))})}addDocuments(t,e){return o(this,void 0,void 0,function*(){let i=`indexes/${this.uid}/documents`;return new y((yield this.httpRequest.post(i,t,e)))})}addDocumentsFromString(t,e,i){return o(this,void 0,void 0,function*(){let s=`indexes/${this.uid}/documents`;return new y((yield this.httpRequest.post(s,t,i,{headers:{"Content-Type":e}})))})}addDocumentsInBatches(t,e=1e3,i){return o(this,void 0,void 0,function*(){let s=[];for(let n=0;n<t.length;n+=e)s.push((yield this.addDocuments(t.slice(n,n+e),i)));return s})}updateDocuments(t,e){return o(this,void 0,void 0,function*(){let i=`indexes/${this.uid}/documents`;return new y((yield this.httpRequest.put(i,t,e)))})}updateDocumentsInBatches(t,e=1e3,i){return o(this,void 0,void 0,function*(){let s=[];for(let n=0;n<t.length;n+=e)s.push((yield this.updateDocuments(t.slice(n,n+e),i)));return s})}updateDocumentsFromString(t,e,i){return o(this,void 0,void 0,function*(){let s=`indexes/${this.uid}/documents`;return new y((yield this.httpRequest.put(s,t,i,{headers:{"Content-Type":e}})))})}deleteDocument(t){return o(this,void 0,void 0,function*(){let e=`indexes/${this.uid}/documents/${t}`,i=yield this.httpRequest.delete(e);return i.enqueuedAt=new Date(i.enqueuedAt),i})}deleteDocuments(t){return o(this,void 0,void 0,function*(){let e=!Array.isArray(t)&&"object"==typeof t,i=`indexes/${this.uid}/${e?"documents/delete":"documents/delete-batch"}`;try{let e=yield this.httpRequest.post(i,t);return new y(e)}catch(t){throw t instanceof h&&e?t.message=c(t.message,"deleteDocuments"):t instanceof a&&(t.message=c(t.message,"deleteDocuments")),t}})}deleteAllDocuments(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/documents`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getSettings(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings`;return yield this.httpRequest.get(t)})}updateSettings(t){return o(this,void 0,void 0,function*(){let e=`indexes/${this.uid}/settings`,i=yield this.httpRequest.patch(e,t);return i.enqueued=new Date(i.enqueuedAt),i})}resetSettings(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getPagination(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/pagination`;return yield this.httpRequest.get(t)})}updatePagination(t){return o(this,void 0,void 0,function*(){let e=`indexes/${this.uid}/settings/pagination`;return new y((yield this.httpRequest.patch(e,t)))})}resetPagination(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/pagination`;return new y((yield this.httpRequest.delete(t)))})}getSynonyms(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/synonyms`;return yield this.httpRequest.get(t)})}updateSynonyms(t){return o(this,void 0,void 0,function*(){let e=`indexes/${this.uid}/settings/synonyms`;return new y((yield this.httpRequest.put(e,t)))})}resetSynonyms(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/synonyms`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getStopWords(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/stop-words`;return yield this.httpRequest.get(t)})}updateStopWords(t){return o(this,void 0,void 0,function*(){let e=`indexes/${this.uid}/settings/stop-words`;return new y((yield this.httpRequest.put(e,t)))})}resetStopWords(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/stop-words`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getRankingRules(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/ranking-rules`;return yield this.httpRequest.get(t)})}updateRankingRules(t){return o(this,void 0,void 0,function*(){let e=`indexes/${this.uid}/settings/ranking-rules`;return new y((yield this.httpRequest.put(e,t)))})}resetRankingRules(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/ranking-rules`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getDistinctAttribute(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/distinct-attribute`;return yield this.httpRequest.get(t)})}updateDistinctAttribute(t){return o(this,void 0,void 0,function*(){let e=`indexes/${this.uid}/settings/distinct-attribute`;return new y((yield this.httpRequest.put(e,t)))})}resetDistinctAttribute(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/distinct-attribute`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getFilterableAttributes(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/filterable-attributes`;return yield this.httpRequest.get(t)})}updateFilterableAttributes(t){return o(this,void 0,void 0,function*(){let e=`indexes/${this.uid}/settings/filterable-attributes`;return new y((yield this.httpRequest.put(e,t)))})}resetFilterableAttributes(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/filterable-attributes`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getSortableAttributes(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/sortable-attributes`;return yield this.httpRequest.get(t)})}updateSortableAttributes(t){return o(this,void 0,void 0,function*(){let e=`indexes/${this.uid}/settings/sortable-attributes`;return new y((yield this.httpRequest.put(e,t)))})}resetSortableAttributes(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/sortable-attributes`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getSearchableAttributes(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/searchable-attributes`;return yield this.httpRequest.get(t)})}updateSearchableAttributes(t){return o(this,void 0,void 0,function*(){let e=`indexes/${this.uid}/settings/searchable-attributes`;return new y((yield this.httpRequest.put(e,t)))})}resetSearchableAttributes(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/searchable-attributes`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getDisplayedAttributes(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/displayed-attributes`;return yield this.httpRequest.get(t)})}updateDisplayedAttributes(t){return o(this,void 0,void 0,function*(){let e=`indexes/${this.uid}/settings/displayed-attributes`;return new y((yield this.httpRequest.put(e,t)))})}resetDisplayedAttributes(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/displayed-attributes`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getTypoTolerance(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/typo-tolerance`;return yield this.httpRequest.get(t)})}updateTypoTolerance(t){return o(this,void 0,void 0,function*(){let e=`indexes/${this.uid}/settings/typo-tolerance`,i=yield this.httpRequest.patch(e,t);return i.enqueuedAt=new Date(i.enqueuedAt),i})}resetTypoTolerance(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/typo-tolerance`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getFaceting(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/faceting`;return yield this.httpRequest.get(t)})}updateFaceting(t){return o(this,void 0,void 0,function*(){let e=`indexes/${this.uid}/settings/faceting`;return new y((yield this.httpRequest.patch(e,t)))})}resetFaceting(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/faceting`;return new y((yield this.httpRequest.delete(t)))})}getSeparatorTokens(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/separator-tokens`;return yield this.httpRequest.get(t)})}updateSeparatorTokens(t){return o(this,void 0,void 0,function*(){let e=`indexes/${this.uid}/settings/separator-tokens`;return new y((yield this.httpRequest.put(e,t)))})}resetSeparatorTokens(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/separator-tokens`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getNonSeparatorTokens(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/non-separator-tokens`;return yield this.httpRequest.get(t)})}updateNonSeparatorTokens(t){return o(this,void 0,void 0,function*(){let e=`indexes/${this.uid}/settings/non-separator-tokens`;return new y((yield this.httpRequest.put(e,t)))})}resetNonSeparatorTokens(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/non-separator-tokens`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getDictionary(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/dictionary`;return yield this.httpRequest.get(t)})}updateDictionary(t){return o(this,void 0,void 0,function*(){let e=`indexes/${this.uid}/settings/dictionary`;return new y((yield this.httpRequest.put(e,t)))})}resetDictionary(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/dictionary`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getProximityPrecision(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/proximity-precision`;return yield this.httpRequest.get(t)})}updateProximityPrecision(t){return o(this,void 0,void 0,function*(){let e=`indexes/${this.uid}/settings/proximity-precision`;return new y((yield this.httpRequest.put(e,t)))})}resetProximityPrecision(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/proximity-precision`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}getEmbedders(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/embedders`;return yield this.httpRequest.get(t)})}updateEmbedders(t){return o(this,void 0,void 0,function*(){let e=`indexes/${this.uid}/settings/embedders`;return new y((yield this.httpRequest.patch(e,t)))})}resetEmbedders(){return o(this,void 0,void 0,function*(){let t=`indexes/${this.uid}/settings/embedders`,e=yield this.httpRequest.delete(t);return e.enqueuedAt=new Date(e.enqueuedAt),e})}}class b{constructor(t){this.config=t,this.httpRequest=new f(t),this.tasks=new q(t)}index(t){return new w(this.config,t)}getIndex(t){return o(this,void 0,void 0,function*(){return new w(this.config,t).fetchInfo()})}getRawIndex(t){return o(this,void 0,void 0,function*(){return new w(this.config,t).getRawInfo()})}getIndexes(t={}){return o(this,void 0,void 0,function*(){let e=yield this.getRawIndexes(t),i=e.results.map(t=>new w(this.config,t.uid,t.primaryKey));return Object.assign(Object.assign({},e),{results:i})})}getRawIndexes(t={}){return o(this,void 0,void 0,function*(){return yield this.httpRequest.get("indexes",t)})}createIndex(t,e={}){return o(this,void 0,void 0,function*(){return yield w.create(t,e,this.config)})}updateIndex(t,e={}){return o(this,void 0,void 0,function*(){return yield new w(this.config,t).update(e)})}deleteIndex(t){return o(this,void 0,void 0,function*(){return yield new w(this.config,t).delete()})}deleteIndexIfExists(t){return o(this,void 0,void 0,function*(){try{return yield this.deleteIndex(t),!0}catch(t){if(t.code===u.INDEX_NOT_FOUND)return!1;throw t}})}swapIndexes(t){return o(this,void 0,void 0,function*(){return yield this.httpRequest.post("/swap-indexes",t)})}multiSearch(t,e){return o(this,void 0,void 0,function*(){return yield this.httpRequest.post("multi-search",t,void 0,e)})}getTasks(t={}){return o(this,void 0,void 0,function*(){return yield this.tasks.getTasks(t)})}getTask(t){return o(this,void 0,void 0,function*(){return yield this.tasks.getTask(t)})}waitForTasks(t,{timeOutMs:e=5e3,intervalMs:i=50}={}){return o(this,void 0,void 0,function*(){return yield this.tasks.waitForTasks(t,{timeOutMs:e,intervalMs:i})})}waitForTask(t,{timeOutMs:e=5e3,intervalMs:i=50}={}){return o(this,void 0,void 0,function*(){return yield this.tasks.waitForTask(t,{timeOutMs:e,intervalMs:i})})}cancelTasks(t){return o(this,void 0,void 0,function*(){return yield this.tasks.cancelTasks(t)})}deleteTasks(t={}){return o(this,void 0,void 0,function*(){return yield this.tasks.deleteTasks(t)})}getKeys(t={}){return o(this,void 0,void 0,function*(){let e=yield this.httpRequest.get("keys",t);return e.results=e.results.map(t=>Object.assign(Object.assign({},t),{createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})),e})}getKey(t){return o(this,void 0,void 0,function*(){let e=`keys/${t}`;return yield this.httpRequest.get(e)})}createKey(t){return o(this,void 0,void 0,function*(){return yield this.httpRequest.post("keys",t)})}updateKey(t,e){return o(this,void 0,void 0,function*(){let i=`keys/${t}`;return yield this.httpRequest.patch(i,e)})}deleteKey(t){return o(this,void 0,void 0,function*(){let e=`keys/${t}`;return yield this.httpRequest.delete(e)})}health(){return o(this,void 0,void 0,function*(){return yield this.httpRequest.get("health")})}isHealthy(){return o(this,void 0,void 0,function*(){try{return yield this.httpRequest.get("health"),!0}catch(t){return!1}})}getStats(){return o(this,void 0,void 0,function*(){return yield this.httpRequest.get("stats")})}getVersion(){return o(this,void 0,void 0,function*(){return yield this.httpRequest.get("version")})}createDump(){return o(this,void 0,void 0,function*(){return new y((yield this.httpRequest.post("dumps")))})}createSnapshot(){return o(this,void 0,void 0,function*(){return new y((yield this.httpRequest.post("snapshots")))})}generateTenantToken(t,e,i){let s=Error();throw Error(`Meilisearch: failed to generate a tenant token. Generation of a token only works in a node environment 
 ${s.stack}.`)}}function m(t){return Buffer.from(JSON.stringify(t)).toString("base64")}class R{constructor(t){this.config=t}generateTenantToken(t,e,i){let s=(null==i?void 0:i.apiKey)||this.config.apiKey||"",r=t||"",u=null==i?void 0:i.expiresAt;!function(t){let{searchRules:e,uid:i,apiKey:s,expiresAt:n}=t;if(n){if(n instanceof Date){if(n.getTime()<Date.now())throw new d("Meilisearch: The expiresAt field must be a date in the future.")}else throw new d("Meilisearch: The expiredAt field must be an instance of Date.")}if(e&&!("object"==typeof e||Array.isArray(e)))throw new d("Meilisearch: The search rules added in the token generation must be of type array or object.");if(!s||"string"!=typeof s)throw new d("Meilisearch: The API key used for the token generation must exist and be of type string.");if(!i||"string"!=typeof i)throw new d("Meilisearch: The uid of the api key used for the token generation must exist, be of type string and comply to the uuid4 format.");if(!/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(i))throw new d("Meilisearch: The uid of your key is not a valid uuid4. To find out the uid of your key use getKey().")}({apiKey:s,uid:r,expiresAt:u,searchRules:e});let o=m({alg:"HS256",typ:"JWT"}).replace(/=/g,""),h=function(t){let{searchRules:e,uid:i,expiresAt:s}=t;return m({searchRules:e,apiKeyUid:i,exp:s?Math.floor(s.getTime()/1e3):void 0}).replace(/=/g,"")}({searchRules:e,uid:r,expiresAt:u}),a=n().createHmac("sha256",s).update(`${o}.${h}`).digest("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return`${o}.${h}.${a}`}}class x extends b{constructor(t){super(t),this.tokens=new R(t)}generateTenantToken(t,e,i){return"undefined"==typeof window?this.tokens.generateTenantToken(t,e,i):super.generateTenantToken(t,e,i)}}}};