(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[655],{7075:function(e,t,n){Promise.resolve().then(n.bind(n,4335))},4335:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(7437),a=n(2954),s=n(9376),i=n(2265),l=n(7648);function c(e){var t;let{block:n}=e,a=(null===(t=n.url)||void 0===t?void 0:t.startsWith("http"))?n.url:n.url||"#",s=a.startsWith("http");return(0,r.jsx)("section",{className:"layout-container py-8 text-center",children:s?(0,r.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"btn-primary inline-flex",children:n.label}):(0,r.jsx)(l.default,{href:a,className:"btn-primary inline-flex",children:n.label})})}function u(e){var t;let{block:n}=e,a=null!==(t=n.items)&&void 0!==t?t:[];return 0===a.length?null:(0,r.jsxs)("section",{className:"layout-container py-12",children:[(0,r.jsx)("h2",{className:"mb-6 text-2xl font-semibold text-white",children:"FAQ"}),(0,r.jsx)("dl",{className:"space-y-4",children:a.map((e,t)=>(0,r.jsxs)("div",{className:"rounded-lg border border-webit-panel-border bg-slate-900/40 p-4",children:[(0,r.jsx)("dt",{className:"font-medium text-white",children:e.question}),(0,r.jsx)("dd",{className:"mt-2 text-webit-fg-muted",children:e.answer})]},t))})]})}function o(e){let{block:t}=e;return(0,r.jsxs)("section",{className:"relative flex min-h-[280px] flex-col justify-center px-4 py-16 text-center",style:t.backgroundImageUrl?{backgroundImage:"url(".concat(t.backgroundImageUrl,")"),backgroundSize:"cover",backgroundPosition:"center"}:void 0,children:[t.backgroundImageUrl&&(0,r.jsx)("div",{className:"absolute inset-0 bg-slate-900/70","aria-hidden":!0}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-white md:text-5xl",children:t.title}),t.subtitle&&(0,r.jsx)("p",{className:"mt-3 text-lg text-webit-fg-muted",children:t.subtitle})]})]})}function d(e){let{block:t}=e;return(0,r.jsx)("div",{className:"prose prose-invert mx-auto max-w-none px-4 py-6 text-webit-fg prose-p:leading-relaxed",dangerouslySetInnerHTML:{__html:t.html||""}})}function m(e){let{blocks:t}=e;return(0,r.jsx)(r.Fragment,{children:t.map(e=>{switch(e.type){case"hero":return(0,r.jsx)(o,{block:e},e.id);case"richText":return(0,r.jsx)(d,{block:e},e.id);case"faq":return(0,r.jsx)(u,{block:e},e.id);case"cta":return(0,r.jsx)(c,{block:e},e.id);default:return null}})})}function x(){let e=(0,s.useParams)(),t=(0,s.useRouter)(),n=null==e?void 0:e.pageId,[l,c]=(0,i.useState)(null),[u,o]=(0,i.useState)("loading");if((0,i.useEffect)(()=>{if(!n){o("not-found");return}let e=!1;return async function(){let r=await (0,a.g)(),s=await fetch("/api/orgs/current/pages/preview/".concat(n),{credentials:"include",headers:{...r}});if(!e){if(401===s.status){t.replace("/login");return}if(404===s.status||!s.ok){o("not-found");return}c(await s.json()),o("ok")}}(),()=>{e=!0}},[n,t]),"loading"===u)return(0,r.jsx)("main",{className:"layout-container py-16 text-center",children:(0,r.jsx)("p",{className:"text-webit-fg-muted",children:"Chargement de la preview…"})});if("not-found"===u||!l)return(0,r.jsxs)("main",{className:"layout-container py-16 text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-white",children:"Page introuvable"}),(0,r.jsx)("p",{className:"mt-2 text-webit-fg-muted",children:"Cette page n’existe pas ou vous n’y avez pas acc\xe8s."})]});let{title:d,blocks:x}=l.current;return(0,r.jsxs)("main",{children:[(0,r.jsx)("div",{className:"sticky top-0 z-10 flex items-center justify-center gap-2 border-b border-amber-500/50 bg-amber-500/20 py-2 text-sm font-medium text-amber-200",children:"Preview – non publi\xe9"}),(0,r.jsxs)("article",{children:[(0,r.jsx)("header",{className:"layout-container pt-8 pb-4",children:(0,r.jsx)("h1",{className:"text-3xl font-semibold text-white",children:d})}),(0,r.jsx)(m,{blocks:null!=x?x:[]})]})]})}},469:function(e,t,n){"use strict";n.d(t,{v9:function(){return l}});var r=n(738),a=n(3301),s=n(257);let i={apiKey:s.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:s.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:s.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:s.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:s.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:s.env.NEXT_PUBLIC_FIREBASE_APP_ID};function l(){return(0,a.v0)(0===(0,r.C6)().length?(0,r.ZF)(i):(0,r.Mq)())}},2954:function(e,t,n){"use strict";n.d(t,{g:function(){return a}});var r=n(469);async function a(){try{let e=(0,r.v9)().currentUser;if(!e)return{};let t=await e.getIdToken();return{Authorization:"Bearer ".concat(t)}}catch(e){return{}}}},7648:function(e,t,n){"use strict";n.d(t,{default:function(){return a.a}});var r=n(2972),a=n.n(r)},9376:function(e,t,n){"use strict";var r=n(5475);n.o(r,"useParams")&&n.d(t,{useParams:function(){return r.useParams}}),n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})}},function(e){e.O(0,[139,685,972,971,117,744],function(){return e(e.s=7075)}),_N_E=e.O()}]);